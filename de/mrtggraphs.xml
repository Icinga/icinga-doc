<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section [
<!ENTITY % all.entities SYSTEM "all-entities.ent">
%all.entities;
]>
<section version="5.0" xml:id="mrtggraphs" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:svg="http://www.w3.org/2000/svg"
         xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:html="http://www.w3.org/1999/xhtml"
         xmlns:db="http://docbook.org/ns/docbook">
  <title>grafische Darstellung von Performance-Informationen mit MRTG</title>

  <para><emphasis role="bold">Einführung</emphasis></para>

  <para>Das <link xlink:href="icingastats.html">&name-stats;</link>-Utility erlaubt Ihnen zusammen mit <link
  xlink:href="http://oss.oetiker.ch/mrtg/">MRTG</link>, verschiedene &name-icinga;-Performance-Statistiken über eine bestimmten
  Zeitraum grafisch darzustellen. Das ist wichtig, weil es Ihnen helfen kann</para>

  <itemizedlist>
    <listitem>
      <para>dass &name-icinga; effizient arbeitet</para>
    </listitem>

    <listitem>
      <para>um Problembereiche im Überwachungsprozess zu lokalisieren</para>
    </listitem>

    <listitem>
      <para>um die Einflüsse von Änderungen in Ihrer &name-icinga;-Konfiguration zu beobachten</para>
    </listitem>
  </itemizedlist>

  <para><emphasis role="bold">MRTG-Beispielkonfiguration</emphasis></para>

  <para>Schnipsel von MRTG-Beispieldateien zur Darstellung von verschiedenen &name-icinga;-Performance-Statistiken finden Sie in
  der <emphasis>mrtg.cfg</emphasis>-Datei im <emphasis>sample-config/</emphasis>-Unterverzeichnis in der
  &name-icinga;-Distribution. Sie können auch Graphen von anderen Performance-Informationen erstellen, wenn Sie wollen - die
  Beispiele liefern Ihnen dazu einen guten Ausgangspunkt.</para>

  <para>Sobald Sie diese Beispieleinträge in die MRTG-Konfigurationsdatei (/etc/mrtg/mrtg.cfg) kopieren, sollten Sie einige neue
  Graphen haben, wenn MRTG das nächste Mal läuft.</para>

  <para><emphasis role="bold">Beispielgraphen</emphasis></para>

  <para>Wir werden beschreiben, welche Bedeutung einige der Beispielgraphen haben und wofür sie benutzt werden können...</para>

  <informaltable frame="none">
    <tgroup cols="2">
      <colspec colname="c1" colwidth="50*" />

      <colspec colname="c2" colwidth="50*" />

      <tbody>
        <row>
          <entry align="left" valign="top"><para> <emphasis role="bold">Aktive Host-Prüfungen</emphasis> - Dieser Graph zeigt, wie
          viele aktive Host-Prüfungen (regelmäßig geplant und nach Bedarf) über die Zeit auftraten. Nützlich zum Verstehen
          von:</para> <itemizedlist>
              <listitem>
                <para>
                  <link linkend="hostchecks">Host-Prüfungen</link>
                </para>
              </listitem>

              <listitem>
                <para>
                  <link linkend="dependencychecks">voraussschauende Host-Abhängigkeitsprüfungen</link>
                </para>
              </listitem>

              <listitem>
                <para><link linkend="cachedchecks">zwischengespeicherten Prüfungen</link> (cached checks)</para>
              </listitem>
            </itemizedlist></entry>

          <entry align="left" valign="top"><para> <mediaobject>
              <imageobject>
                <imagedata fileref="../images/mrtg-activehostchecks.png" format="PNG"></imagedata>
              </imageobject>
            </mediaobject> </para></entry>
        </row>

        <row>
          <entry align="left" valign="top"><para> <emphasis role="bold">Aktive Service-Prüfungen</emphasis> - Dieser Graph zeigt,
          wie viele aktive Service-Prüfungen (regelmäßig geplant und nach Bedarf) über die Zeit auftraten. Nützlich zum Verstehen
          von:</para> <itemizedlist>
              <listitem>
                <para>
                  <link linkend="servicechecks">Service-Prüfungen</link>
                </para>
              </listitem>

              <listitem>
                <para>
                  <link linkend="dependencychecks">voraussschauende Service-Abhängigkeitsprüfungen</link>
                </para>
              </listitem>

              <listitem>
                <para><link linkend="cachedchecks">zwischengespeicherten Prüfungen</link> (cached checks)</para>
              </listitem>
            </itemizedlist></entry>

          <entry align="left" valign="top"><para> <mediaobject>
              <imageobject>
                <imagedata fileref="../images/mrtg-activeservicechecks.png" format="PNG"></imagedata>
              </imageobject>
            </mediaobject> </para></entry>
        </row>

        <row>
          <entry align="left" valign="top"><para> <emphasis role="bold">Zwischengespeicherte Host- und
          Service-Prüfungen</emphasis> - Dieser Graph zeigt, wie viele zwischengespeicherte Host- und Service-Prüfungen
          (regelmäßig geplant und nach Bedarf) über die Zeit auftraten. Nützlich zum Verstehen von:</para> <itemizedlist>
              <listitem>
                <para><link linkend="cachedchecks">zwischengespeicherten Prüfungen</link> (cached checks)</para>
              </listitem>

              <listitem>
                <para>
                  <link linkend="dependencychecks">voraussschauende Host- und Service-Abhängigkeitsprüfungen</link>
                </para>
              </listitem>
            </itemizedlist></entry>

          <entry align="left" valign="top"><para> <mediaobject>
              <imageobject>
                <imagedata fileref="../images/mrtg-cachedchecks.png" format="PNG"></imagedata>
              </imageobject>
            </mediaobject> </para></entry>
        </row>

        <row>
          <entry align="left" valign="top"><para> <emphasis role="bold">Passive Host- und Service-Prüfungen</emphasis> - Dieser
          Graph zeigt, wie viele passive Host- und Service-Prüfungen (regelmäßig geplant und nach Bedarf) über die Zeit auftraten.
          Nützlich zum Verstehen von:</para> <itemizedlist>
              <listitem>
                <para>
                  <link linkend="passivechecks">passiven Prüfungen</link>
                </para>
              </listitem>
            </itemizedlist></entry>

          <entry align="left" valign="top"><para> <mediaobject>
              <imageobject>
                <imagedata fileref="../images/mrtg-passivechecks.png" format="PNG"></imagedata>
              </imageobject>
            </mediaobject> </para></entry>
        </row>

        <row>
          <entry align="left" valign="top"><para> <emphasis role="bold">aktive Host-/Serviceprüfungen</emphasis> - Dieser Graph
          zeigt, wie viele (die Gesamtzahl von) Hosts und Service aktiv über die Zeit geprüft wurden. Nützlich zum Verstehen
          von:</para> <itemizedlist>
              <listitem>
                <para>
                  <link linkend="activechecks">aktiven Prüfungen</link>
                </para>
              </listitem>
            </itemizedlist></entry>

          <entry align="left" valign="top"><para> <mediaobject>
              <imageobject>
                <imagedata fileref="../images/mrtg-activelychecked.png" format="PNG"></imagedata>
              </imageobject>
            </mediaobject> </para></entry>
        </row>

        <row>
          <entry align="left" valign="top"><para> <emphasis role="bold">passive Host-/Serviceprüfungen</emphasis> - Dieser Graph
          zeigt, wie viele (die Gesamtzahl von) Hosts und Service passiv über die Zeit geprüft wurden. Nützlich zum Verstehen
          von:</para> <itemizedlist>
              <listitem>
                <para>
                  <link linkend="passivechecks">passiven Prüfungen</link>
                </para>
              </listitem>
            </itemizedlist></entry>

          <entry align="left" valign="top"><para> <mediaobject>
              <imageobject>
                <imagedata fileref="../images/mrtg-passivelychecked.png" format="PNG"></imagedata>
              </imageobject>
            </mediaobject> </para></entry>
        </row>

        <row>
          <entry align="left" valign="top"><para> <emphasis role="bold">durchschnittliche Service-Prüfungs-Latenz- und
          Ausführungszeiten</emphasis> - Dieser Graph zeigt die durchschnittlichen Service-Prüfungs-Latenz- und Ausführungszeiten
          über die Zeit. Nützlich zum Verstehen von:</para> <itemizedlist>
              <listitem>
                <para>
                  <link linkend="servicechecks">Service-Prüfungen</link>
                </para>
              </listitem>

              <listitem>
                <para>
                  <link linkend="tuning">Leistungsoptimierung</link>
                </para>
              </listitem>
            </itemizedlist> <para>Konstant hohe Latenzzeiten können ein Anzeichen dafür sein, eine oder mehrere der folgenden
          Variablen zu ändern:</para> <itemizedlist>
              <listitem>
                <para>
                  <link linkend="configmain-max_concurrent_checks">max_concurrent_checks</link>
                </para>
              </listitem>

              <listitem>
                <para>
                  <link linkend="configmain-check_result_reaper_frequency">check_result_reaper_frequency</link>
                </para>
              </listitem>

              <listitem>
                <para>
                  <link linkend="configmain-max_check_result_reaper_time">max_check_result_reaper_time</link>
                </para>
              </listitem>
            </itemizedlist></entry>

          <entry align="left" valign="top"><para> <mediaobject>
              <imageobject>
                <imagedata fileref="../images/mrtg-serviceperfstats.png" format="PNG"></imagedata>
              </imageobject>
            </mediaobject> </para></entry>
        </row>

        <row>
          <entry align="left" valign="top"><para> <emphasis role="bold">durchschnittliche Service-Zustandsänderungen</emphasis> -
          Dieser Graph zeigt die durchschnittliche prozentuale Service-Zustandsänderung (ein Maßstab für die Sprunghaftigkeit) von
          Services über die Zeit, heruntergebrochen auf Services, die in der letzten Zeit aktiv oder passiv geprüft wurden.
          Nützlich zum Verstehen von:</para> <itemizedlist>
              <listitem>
                <para>
                  <link linkend="flapping">Flattererkennung</link>
                </para>
              </listitem>
            </itemizedlist></entry>

          <entry align="left" valign="top"><para> <mediaobject>
              <imageobject>
                <imagedata fileref="../images/mrtg-servicestatechange.png" format="PNG"></imagedata>
              </imageobject>
            </mediaobject> </para></entry>
        </row>

        <row>
          <entry align="left" valign="top"><para> <emphasis role="bold">durchschnittliche Host-Prüfungs-Latenz- und
          Ausführungszeiten</emphasis> - Dieser Graph zeigt die durchschnittlichen Host-Prüfungs-Latenz- und Ausführungszeiten
          über die Zeit. Nützlich zum Verstehen von:</para> <itemizedlist>
              <listitem>
                <para>
                  <link linkend="hostchecks">Host-Prüfungen</link>
                </para>
              </listitem>

              <listitem>
                <para>
                  <link linkend="tuning">Leistungsoptimierung</link>
                </para>
              </listitem>
            </itemizedlist> <para>Konstant hohe Latenzzeiten können ein Anzeichen dafür sein, eine oder mehrere der folgenden
          Variablen zu ändern:</para> <itemizedlist>
              <listitem>
                <para>
                  <link linkend="configmain-max_concurrent_checks">max_concurrent_checks</link>
                </para>
              </listitem>

              <listitem>
                <para>
                  <link linkend="configmain-check_result_reaper_frequency">check_result_reaper_frequency</link>
                </para>
              </listitem>

              <listitem>
                <para>
                  <link linkend="configmain-max_check_result_reaper_time">max_check_result_reaper_time</link>
                </para>
              </listitem>
            </itemizedlist></entry>

          <entry align="left" valign="top"><para> <mediaobject>
              <imageobject>
                <imagedata fileref="../images/mrtg-hostperfstats.png" format="PNG"></imagedata>
              </imageobject>
            </mediaobject> </para></entry>
        </row>

        <row>
          <entry align="left" valign="top"><para> <emphasis role="bold">durchschnittliche Host-Zustandsänderungen</emphasis> -
          Dieser Graph zeigt die durchschnittliche prozentuale Host-Zustandsänderung (ein Maßstab für die Sprunghaftigkeit) von
          Services über die Zeit, heruntergebrochen auf Services, die in der letzten Zeit aktiv oder passiv geprüft wurden.
          Nützlich zum Verstehen von:</para> <itemizedlist>
              <listitem>
                <para>
                  <link linkend="flapping">Flattererkennung</link>
                </para>
              </listitem>
            </itemizedlist></entry>

          <entry align="left" valign="top"><para> <mediaobject>
              <imageobject>
                <imagedata fileref="../images/mrtg-hoststatechange.png" format="PNG"></imagedata>
              </imageobject>
            </mediaobject> </para></entry>
        </row>

        <row>
          <entry align="left" valign="top"><para> <emphasis role="bold">externe Befehle</emphasis> - Dieser Graph zeigt, wie viele
          externe Befehle von &name-icinga; über die Zeit verarbeitet wurden. Solange Sie nicht eine große Zahl von externen
          Befehlen verarbeiten (wie im Fall von verteilten Überwachungsumgebungen), sollte dieser Graph nahezu leer sein. Die
          Überwachung von externen Befehlen kann nützlich sein zum Verstehen von Einflüssen durch:</para> <itemizedlist>
              <listitem>
                <para>
                  <link linkend="passivechecks">passiven Prüfungen</link>
                </para>
              </listitem>

              <listitem>
                <para>
                  <link linkend="distributed">verteilte Überwachung</link>
                </para>
              </listitem>

              <listitem>
                <para>
                  <link linkend="redundancy">redundante/Failover-Überwachung</link>
                </para>
              </listitem>
            </itemizedlist></entry>

          <entry align="left" valign="top"><para> <mediaobject>
              <imageobject>
                <imagedata fileref="../images/mrtg-externalcommands.png" format="PNG"></imagedata>
              </imageobject>
            </mediaobject> </para></entry>
        </row>

        <row>
          <entry align="left" valign="top"><para> <emphasis role="bold">externe Befehlspuffer</emphasis> - Dieser Graph zeigt, wie
          viele externe Befehlspuffer über die Zeit benutzt wurden. Wenn die Zahl von benutzten Befehlspuffern regelmäßig nahe an
          der Zahl von verfügbaren Puffern ist, dann sollten Sie wahrscheinlich den Wert der <link
          linkend="configmain-external_command_buffer_slots">external command buffer slots</link> erhöhen. Puffer werden benötigt,
          um temporär die externen Befehle zu speichern in der Zeit, wo sie vom <link linkend="configmain-command_file">external
          command file</link> gelesen werden bis zur Verarbeitung durch den &name-icinga;-Daemon.</para></entry>

          <entry align="left" valign="top"><para> <mediaobject>
              <imageobject>
                <imagedata fileref="../images/mrtg-commandbuffers.png" format="PNG"></imagedata>
              </imageobject>
            </mediaobject> </para></entry>
        </row>
      </tbody>
    </tgroup>
  </informaltable>
  <indexterm zone="mrtggraphs"><primary>Performance-Daten</primary><secondary>grafische Darstellung von Performance-Informationen mit MRTG</secondary></indexterm>
</section>
