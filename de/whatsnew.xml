<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE section [
<!ENTITY % all.entities SYSTEM "all-entities.ent">
%all.entities;
]>
<section version="5.0" xml:id="whatsnew" xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:svg="http://www.w3.org/2000/svg" xmlns:m="http://www.w3.org/1998/Math/MathML"
         xmlns:html="http://www.w3.org/1999/xhtml" xmlns:db="http://docbook.org/ns/docbook">
  <title>What's New in &name-icinga; &ver-icinga;</title>

  <para>As usual this is only a brief overview. Please take a look at the <link linkend="moreinfo">Changelog</link> as well if you are missing something.</para>

  <indexterm zone="whatsnew">
    <primary>What's new in &name-icinga;</primary>
  </indexterm>

  <section id="changes">
    <title>CHANGES</title>

    <itemizedlist>
      <listitem>
	      <para>core: <emphasis condition="red" role="color">unknown macros are not left on the output anymore, logging a warning instead.</emphasis>
	      either fix your config (i.e. wrong macros, escape dollar signs with another one) or set keep_unknown_macros=1 in icinga.cfg to revert
	      to the old behaviour.
	</para>
      </listitem>

      <listitem>
	      <para>classic ui: Changed cgi GET params, Added/Changed cgi.cfg options, change strings in json output (more on Changelog</para>
      </listitem>

      <listitem>
	      <para>docs: new stylesheet in html/docs/stylesheets/icinga-docs.css, javascript in html/docs/js/{icinga-docs.js,jquery-min.js}</para>
      </listitem>

    </itemizedlist>
  </section>

  <section id="core">
    <title>Core</title>

    <itemizedlist>
      <listitem>
        <para>add a command to disable notifications program-wide with expire time as scheduled event #905</para>
      </listitem>

      <listitem>
        <para>only reap results when checkresult_list is not overloaded (max_check_result_list_items) (thx Thomas Gelf) #3099</para>
      </listitem>

      <listitem>
        <para>avoid duplicate events when scheduling forced host|service check (Imri Zvik) #2993</para>
      </listitem>

      <listitem>
        <para>unknown macros are not replaced, and misleading to single dollar signs #2291</para>
      </listitem>

      <listitem>
        <para>fix next_check attribute not updated after scheduling new check #2265</para>
      </listitem>

    </itemizedlist>
  </section>

  <section id="classicui">
    <title>Classic UI</title>

    <itemizedlist>
      <listitem>
        <para>Added pagination to various cgi's (thx to ideas and partly source from Nagios, Thruk, Icinga Web) #2725</para>
      </listitem>

      <listitem>
        <para>Changed search in config.cgi to regex #2884</para>
      </listitem>

      <listitem>
        <para>Added selection of timeperiod for notifications and history #2341</para>
      </listitem>

      <listitem>
        <para>Added date/time selection for all date/time input fields #2576</para>
      </listitem>

      <listitem>
	      <para>Added host/service selection for commands, leaving out passive only checks on check reschedule in cmd.cgi #2697</para>
      </listitem>

      <listitem>
	      <para>Added host/service group filter to notifications.cgi and history.cgi #2679</para>
      </listitem>

      <listitem>
        <para>javascript refresh jumps to page top, not restoring previous scrolling position; add url param 'scroll=' #2855</para>
      </listitem>

      <listitem>
        <para>add command to delete host downtime and all associated service downtimes (extinfo.cgi, status.cgi command drop down) #1572</para>
      </listitem>

      <listitem>
        <para>Added a refresh button to tac.cgi in header mode #3164</para>
      </listitem>

    </itemizedlist>
  </section>

  <section id="idoutils">
    <title>IDOutils</title>

    <itemizedlist>
      <listitem>
	      <para>fix insert on duplicate key with multiple unique keys marked unsafe in mysql >= 5.5.24; rewrite all queries #3008</para>
      </listitem>

      <listitem>
        <para>fix redundant indexes in MySQL schema (thx Michael Renner) #3018</para>
      </listitem>

      <listitem>
        <para>re-add missing indexes from #1110 resolving performance issues on all supported rdbms #2618</para>
      </listitem>

    </itemizedlist>
  </section>

  <section id="web">
    <title>Icinga-Web</title>

    <itemizedlist>
      <listitem>
        <para>Permission of Cronks and categories editable in frontend</para>
      </listitem>

      <listitem>
        <para>host- and servicename credentials</para>
      </listitem>

      <listitem>
        <para>new credential model reduces join overhead</para>
      </listitem>

      <listitem>
        <para>more space in grids due new event integration</para>
      </listitem>

      <listitem>
        <para>running downtimes view</para>
      </listitem>

      <listitem>
        <para>new beautiful statusmap</para>
      </listitem>

      <listitem>
        <para>Code namespace organizing</para>
      </listitem>

      <listitem>
        <para>many many bugfixes</para>
      </listitem>

    </itemizedlist>
  </section>

  <section id="web">
    <title>Icinga-Reporting</title>

    <itemizedlist>
      <listitem>
        <para>added new template design and corrected some template issues</para>
      </listitem>

      <listitem>
        <para>deleted all weekly, monthly and yearly SLA reports and created a combined one</para>
      </listitem>

      <listitem>
        <para>integrated SLA function for MySQL -> Thanks to Thomas Gelf</para>
      </listitem>

      <listitem>
        <para>enable preselected timeranges in every report</para>
      </listitem>

      <listitem>
        <para>added servicegroup availability, morning report</para>
      </listitem>

      <listitem>
        <para>added easy availability report for given host and dependant services</para>
      </listitem>

    </itemizedlist>
  </section>


  <section id="docs">
    <title>Docs</title>

    <itemizedlist>
      <listitem>
        <para>add a new stylesheet and rework docbook.xsl #3046</para>
      </listitem>

      <listitem>
        <para>add tocs for all sections, add jquery toggle for toc #3193</para>
      </listitem>

      <listitem>
        <para>create a dedicated page for packages and their customizations #2905</para>
      </listitem>

      <listitem>
        <para>create a howto define a command, translate macros and testdrive plugins manually #2692</para>
      </listitem>

    </itemizedlist>
  </section>

  <section id="moreinfo">
    <title>More information</title>

    <para><link xlink:href="https://wiki.icinga.org/display/Dev/Changelogs">More at Icinga Wiki</link></para>

    <para>Should you find any issues, please report them to one of the following links:</para>

    <para><link xlink:href="https://dev.icinga.org/projects/show/icinga-core">Report Issue &name-core;</link></para>

    <para><link xlink:href="https://dev.icinga.org/projects/show/icinga-web">Report Issue &name-web;</link></para>

    <para><link xlink:href="https://dev.icinga.org/projects/show/icinga-reporting">Report Issue &name-rep;</link></para>

    <para><link xlink:href="https://dev.icinga.org/projects/show/icinga-docs">Report Issue &name-docs;</link></para>
  </section>
</section>
