<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE chapter [
<!ENTITY % all.entities SYSTEM "all-entities.ent">
%all.entities;
]>
<section
version="5.0"
xml:id="quickstart"
xmlns="http://docbook.org/ns/docbook"
xmlns:xlink="http://www.w3.org/1999/xlink"
xmlns:xi="http://www.w3.org/2001/XInclude"
xmlns:svg="http://www.w3.org/2000/svg"
xmlns:m="http://www.w3.org/1998/Math/MathML"
xmlns:html="http://www.w3.org/1999/xhtml"
xmlns:db="http://docbook.org/ns/docbook"
><title
>GUIA RAPIDA ICINGA</title
><para
><emphasis
role="bold"
>Introducción</emphasis
></para
><para
>Esta guía está destinada a proporcionar instrucciones simples de instalacion y poder estar trabajando con &name-icinga; en 20 minutos m. Por el momento solo existe una instalacion basica para instalaciones avanzadas o personalizadas, estan los foros. Esta guía le dará ejemplos e tres diferentes &name-linux;-distribuciones de : <link
xlink:href="http://fedoraproject.org/"
>&name-fedora;</link
>, <link
xlink:href="http://www.ubuntu.com/"
>&name-ubuntu;</link
> y <link
xlink:href="http://www.opensuse.org/"
>&name-opensuse;</link
>. Distribuciones similares pueden funcionar tan bien</para
><para
>Si usted sigue estas instrucciones, al final de la instalacion tendra las siguiente caracteristicas de configuración:</para
><para
><emphasis
role="bold"
>Lo que se obtiene</emphasis
></para
><para
>Si usted sigue estas instrucciones, al final de la instalacion tendra las siguiente caracteristicas de configuración :</para
><itemizedlist
><listitem
><para
>&name-icinga; y los plugins se instalará debajo de &url-icinga-base;</para
></listitem
><listitem
><para
>&name-icinga; será configurado para controlar algunos aspectos de su sistema local (carga de la CPU, uso de disco, etc)</para
></listitem
><listitem
><para
>La interfaz web &name-icinga; será accesible en <uri
>http://localhost/icinga/</uri
> o <uri
>http://yourdomain.com/icinga/</uri
></para
></listitem
></itemizedlist
><para
><emphasis
role="bold"
>Requisitos</emphasis
></para
><para
>Antes de empezar la instalacion se tiene que asegurar que tiene los siguientes paquetes instalados</para
><itemizedlist
><listitem
><para
>&name-apache;</para
></listitem
><listitem
><para
>Compilador GCC</para
></listitem
><listitem
><para
>C/C++ desarrollo de las bibliotecas</para
></listitem
><listitem
><para
><link
xlink:href="http://www.boutell.com/gd/"
>&name-gd;</link
>Bibliotecas de desarrollo de GD</para
></listitem
></itemizedlist
><para
><emphasis
role="bold"
>Instalación de los paquetes</emphasis
></para
><para
>Para instalar estos paquetes usted tiene que ser root o hacer un sudo con su usuario. A continuación le comentamos como puede hacer la instalacion de estos paquetes</para
><para
><emphasis
role="bold"
>&name-fedora; / &name-redhat; / &name-centos;</emphasis
></para
><programlisting
> # yum install httpd gcc glibc glibc-common gd gd-devel
 # yum install libjpeg libjpeg-devel libpng libpng-devel</programlisting
><para
><emphasis
>&name-debian; / &name-ubuntu;</emphasis
></para
><programlisting
> # apt-get install apache2 build-essential libgd2-xpm-dev
 # apt-get install libjpeg62 libjpeg62-dev libpng12 libpng12-dev</programlisting
><para
><emphasis
role="bold"
>&name-opensuse;</emphasis
></para
><para
>Utilizaremos yast</para
><para
><emphasis
role="bold"
>Crear cuenta usuario &name-icinga; </emphasis
></para
><para
>Crear una cuenta nueva <emphasis
>icinga</emphasis
> y asignar una contraseña:</para
><programlisting
> # /usr/sbin/useradd -m icinga
 # passwd icinga  </programlisting
><para
>En algunas distribuciones usted tendra que crear un grupo tambien:</para
><programlisting
> # /usr/sbin/groupadd icinga</programlisting
><para
><emphasis
role="bold"
>Descargar &name-icinga;y Plugins </emphasis
></para
><para
>Dentro del directorio /usr/src, descargamos &name-icinga;</para
><programlisting
> # cd /usr/src</programlisting
><para
>Tenemos dosposibilidades para descargarlo:<programlisting
> # git clone git://git.icinga.org/icinga-core.git</programlisting
> o por la pagina web <link
xlink:href="http://www.icinga.org/"
>&name-icinga; </link
> .</para
><para
>Despues tenemos que descargar los plugins<link
xlink:href="http://www.nagios.org/"
>Nagios-Plugins</link
>.</para
><para
><emphasis
role="bold"
>Compilación e Instalacion de &name-icinga;</emphasis
></para
><para
>Extraemos el codigo de &name-icinga;</para
><programlisting
> # cd /usr/src/
 # tar xvzf icinga-&ver-icinga;.tar.gz
 # cd icinga-&ver-icinga;</programlisting
><para
>Ejecutamos el script</para
><programlisting
> # ./configure</programlisting
><para
>Compilamos &name-icinga;</para
><programlisting
> # make all</programlisting
><para
>Instalamos los binarios, archivos de configuración y establecemos permisos <programlisting
> # make install 
 # make install-init 
 # make install-config 
 # make install-commandmode </programlisting
> Tambien podemos utilizar el camino corto:<programlisting
> # make fullinstall</programlisting
></para
><para
><emphasis
role="bold"
>Personalizar la configuración </emphasis
></para
><para
>Los archivos de configuración de ejemplo se han instalado mediante el uso de<programlisting
> # make install-config</programlisting
>en &url-icinga-base;/etc/. Tendrá que hacer un cambio, antes de continuar...</para
><para
>Editar el archivo <emphasis
>&url-icinga-base;/etc/objects/contacts.cfg</emphasis
>archivo de configuración con su editor favorito y cambiar la dirección de correo electrónico asociada a la definición de contacto icingaadmin a la dirección que desea utilizar para recibir las alertas.</para
><programlisting
> # vi &url-icinga-base;/etc/objects/contacts.cfg</programlisting
><para
><emphasis
role="bold"
>Configurar la Interfaz web</emphasis
></para
><para
>Configuramos el fichero de configuración del &name-apache; en /etc/apache2/conf.d</para
><programlisting
> # make install-webconf</programlisting
><para
>Creamos una cuenta <emphasis
>icingaadmin</emphasis
>para conectarse a la interfaz web Icinga. Si desea cambiar más adelante, utilice el mismo comando. Recuerde que la contraseña que asigna a esta cuenta - lo necesitará más adelante.</para
><programlisting
> # htpasswd(2) -c &url-icinga-base;/etc/htpasswd.users icingaadmin</programlisting
><note
><para
>Abhängig von der Apache-Version müssen Sie ggf. <emphasis
>htpasswd2 verwenden.</emphasis
></para
></note
><para
>Si desea cambiar más tarde o si desea agregar otro usuario, utilice el siguiente comando:</para
><programlisting
> # htpasswd(2) &url-icinga-base;/etc/htpasswd.users &lt;USERNAME&gt;</programlisting
><para
>Actualizar / Reiniciar Apache para que la nueva configuración surta efecto.</para
><para
><emphasis
role="bold"
>&name-fedora;/&name-redhat;/&name-centos;</emphasis
></para
><programlisting
> # service httpd restart</programlisting
><para
><emphasis
role="bold"
>&name-debian; / &name-ubuntu; / &name-opensuse;</emphasis
></para
><programlisting
> # /etc/init.d/apache2 reload</programlisting
><para
><emphasis
role="bold"
>Instalacion y configuración de &name-nagios;-Plugins</emphasis
></para
><para
>Extraemos los plugins</para
><programlisting
> # cd /usr/src
 # tar xzf nagios-plugins-&ver-nagiosplug;.tar.gz
 # cd nagios-plugins-&ver-nagiosplug;</programlisting
><para
>Compilamos e Instalamos dentro del directorio de &name-icinga;.</para
><programlisting
> # ./configure --prefix=/usr/local/icinga --with-nagios-user=icinga
 # make
 # make install</programlisting
><para
><emphasis
role="bold"
>Arrancar &name-icinga;</emphasis
></para
><para
><emphasis
role="bold"
>&name-fedora; / &name-redhat; / &name-centos; / &name-opensuse;</emphasis
></para
><programlisting
> # chkconfig --add icinga 
 # chkconfig icinga on </programlisting
><para
><emphasis
role="bold"
>&name-debian; / &name-ubuntu;</emphasis
></para
><programlisting
> # update-rc.d icinga defaults</programlisting
><para
>Igual que en Nagios verificamos que la configuración es la correcta</para
><programlisting
> # &url-icinga-bin; -v &url-icinga-cfg;</programlisting
><para
>Si todo es correcto realizamos el siguiente paso</para
><para
><emphasis
role="bold"
>&name-fedora; / &name-opensuse;</emphasis
></para
><programlisting
> # service icinga start</programlisting
><para
><emphasis
role="bold"
>&name-debian; / &name-ubuntu;</emphasis
></para
><programlisting
> # /etc/init.d/icinga start</programlisting
><para
><emphasis
role="bold"
>La interfaz web Icinga será accesible en http://localhost/icinga/ </emphasis
></para
><para
><emphasis
role="bold"
>Preparado.</emphasis
></para
><para
>Felicitaciones, lo has conseguido &name-icinga;.</para
><indexterm
zone="quickstart-icinga"
><primary
>Quickstart</primary
><secondary
>Quickstart &name-icinga;</secondary
></indexterm
><indexterm
zone="quickstart"
><primary
>Quickstart</primary
></indexterm
></section
>
